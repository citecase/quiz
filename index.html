<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CiteCase Quiz - Supreme Court Judgments</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .serif {
            font-family: 'Playfair Display', serif;
        }
        .quiz-card {
            transition: all 0.3s ease;
        }
        .option-btn:hover:not(:disabled) {
            border-color: #0f172a;
            background-color: #f1f5f9;
        }
        .correct {
            background-color: #dcfce7 !important;
            border-color: #22c55e !important;
            color: #166534 !important;
        }
        .incorrect {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
            color: #991b1b !important;
        }
        .lifeline-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
            filter: grayscale(1);
        }
        .timer-warning {
            color: #ef4444;
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center py-12 px-4">

    <!-- Header -->
    <header class="max-w-3xl w-full text-center mb-10">
        <h1 class="serif text-5xl text-slate-900 mb-2">CiteCase Quiz</h1>
        <p class="text-blue-700 font-semibold uppercase tracking-widest text-sm">ON LATEST SUPREME COURT JUDGMENTS</p>
        <div class="h-1.5 w-20 bg-slate-900 mx-auto mt-4 rounded-full"></div>
    </header>

    <main class="max-w-2xl w-full">
        <!-- Start Screen -->
        <div id="start-screen" class="text-center py-6 flex flex-col items-center gap-4">
            <button id="main-start-btn" class="w-full max-w-sm bg-slate-900 hover:bg-slate-800 text-white text-lg font-bold py-4 px-12 rounded-full shadow-xl transition-all duration-200 transform hover:scale-105">
                Start Quiz
            </button>
            
            <a href="https://www.caseciter.com/tag/daily-digest/" target="_blank" class="w-full max-w-sm bg-white border-2 border-slate-900 text-slate-900 text-lg font-bold py-4 px-12 rounded-full shadow-md hover:bg-slate-50 transition-all duration-200 flex items-center justify-center gap-2">
                <span>Read Daily Digests</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                </svg>
            </a>
            <button id="rules-toggle-btn" class="w-full max-w-sm bg-white border-2 border-slate-200 text-slate-600 text-lg font-bold py-4 px-12 rounded-full shadow-sm hover:border-slate-400 transition-all duration-200 flex items-center justify-center gap-2">
                <span>Read Rules</span>
                <svg id="rules-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
            </button>
            
            <div id="rules-container" class="hidden bg-white rounded-3xl shadow-xl p-8 border border-slate-100 w-full max-w-lg text-left mt-2 animate-fade-in">
                <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2 uppercase tracking-tight">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Quiz Rules
                </h3>
                <ul class="space-y-3 text-sm text-slate-600 font-medium">
                    <li class="flex items-start gap-3"><span class="bg-green-100 text-green-700 px-2 rounded font-bold">+2</span><span>Marks for every Correct Answer.</span></li>
                    <li class="flex items-start gap-3"><span class="bg-red-100 text-red-700 px-2 rounded font-bold">-1</span><span>Mark for every Incorrect Answer or Timeout.</span></li>
                    <li class="flex items-start gap-3"><span class="bg-slate-100 text-slate-700 px-2 rounded font-bold">0</span><span>Marks if you use the 'Skip' lifeline.</span></li>
                    <li class="flex items-start gap-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-slate-400 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        <span>30 Seconds per question.</span>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Password Entry Screen -->
        <div id="password-screen" class="hidden text-center py-6 flex flex-col items-center gap-6 animate-fade-in">
            <div class="bg-white rounded-3xl shadow-xl p-8 border border-slate-100 w-full max-sm:w-full max-w-sm">
                <div class="relative mb-6">
                    <input type="password" id="quiz-password-input" placeholder="Enter Quiz Password" class="w-full px-5 py-4 rounded-2xl border-2 border-slate-100 focus:border-blue-500 focus:outline-none font-semibold text-slate-800 transition-colors text-center tracking-widest">
                    <button onclick="togglePasswordVisibility()" class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors">
                        <svg id="eye-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                        </svg>
                    </button>
                </div>
                <p id="password-error" class="hidden text-red-500 text-xs font-bold mb-4">Incorrect password. Please try again.</p>
                <button onclick="handlePasswordSubmit()" class="w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-4 rounded-2xl shadow-lg transition-all transform active:scale-95">Unlock Quiz</button>
                
                <div class="mt-10 pt-8 border-t border-slate-100">
                    <p class="text-slate-400 font-bold text-[10px] uppercase tracking-widest mb-4">Request Access</p>
                    <div class="flex flex-col gap-3">
                        <a href="https://x.com/citecase" target="_blank" class="flex items-center justify-center gap-2 text-slate-600 hover:text-blue-500 transition-colors text-sm font-medium">
                            <svg class="h-4 w-4 fill-current" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                            <span>x.com/citecase</span>
                        </a>
                        <a href="mailto:citecase@gmail.com" class="flex items-center justify-center gap-2 text-slate-600 hover:text-red-500 transition-colors text-sm font-medium">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            <span>citecase@gmail.com</span>
                        </a>
                    </div>
                </div>
                <button onclick="showStartScreen()" class="mt-8 text-slate-400 font-bold hover:text-slate-900 transition flex items-center justify-center gap-2 w-full text-xs">Cancel</button>
            </div>
        </div>

        <!-- Selection Screen -->
        <div id="selection-screen" class="hidden text-center py-6 flex flex-col items-center gap-6 animate-fade-in">
            <button onclick="startQuiz('jan7')" class="w-full max-w-sm bg-blue-700 hover:bg-blue-800 text-white text-lg font-bold py-6 px-12 rounded-3xl shadow-xl transition-all duration-200 transform hover:scale-105">
                7 January 2026
            </button>
            <button onclick="startQuiz('jan6')" class="w-full max-w-sm bg-slate-900 hover:bg-slate-800 text-white text-lg font-bold py-6 px-12 rounded-3xl shadow-xl transition-all duration-200 transform hover:scale-105">
                6 January 2026
            </button>
            <button onclick="startQuiz('jan5')" class="w-full max-w-sm bg-slate-800 hover:bg-slate-700 text-white text-lg font-bold py-6 px-12 rounded-3xl shadow-xl transition-all duration-200 transform hover:scale-105">
                5 January 2026
            </button>
            <button onclick="showStartScreen()" class="mt-4 text-slate-400 font-bold hover:text-slate-900 transition flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                Go Back
            </button>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden space-y-6">
            <div class="flex items-center gap-4">
                <div class="flex-grow bg-slate-200 h-2 rounded-full overflow-hidden"><div id="progress" class="bg-slate-900 h-full transition-all duration-500" style="width: 0%"></div></div>
                <div id="timer-display" class="flex-shrink-0 font-mono font-bold text-lg text-slate-700 w-12 text-center">30s</div>
            </div>
            <div class="flex justify-between items-center text-xs font-bold text-slate-400 uppercase tracking-widest">
                <span id="question-number">Question 1/10</span>
                <span id="current-score" class="text-slate-900 font-black">Score: 0</span>
            </div>
            <div class="flex flex-wrap justify-center gap-3 mb-2">
                <button id="lifeline-time" class="lifeline-btn flex items-center gap-2 bg-blue-100 hover:bg-blue-200 text-blue-700 px-4 py-2 rounded-full text-[10px] font-bold transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>+30s TIME
                </button>
                <button id="lifeline-5050" class="lifeline-btn flex items-center gap-2 bg-purple-100 hover:bg-purple-200 text-purple-700 px-4 py-2 rounded-full text-[10px] font-bold transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" /></svg>50:50
                </button>
                <button id="lifeline-skip" class="lifeline-btn flex items-center gap-2 bg-amber-100 hover:bg-amber-200 text-amber-700 px-4 py-2 rounded-full text-[10px] font-bold transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" /></svg>SKIP (0)
                </button>
            </div>
            <div class="bg-white rounded-3xl shadow-2xl p-8 border border-slate-100 quiz-card">
                <p id="question-text" class="text-xl font-bold text-slate-800 mb-8 leading-relaxed"></p>
                <div id="options-container" class="grid grid-cols-1 gap-4"></div>
                <div id="explanation-box" class="hidden mt-8 p-5 rounded-2xl bg-slate-50 border border-slate-200 border-l-4 border-l-blue-600">
                    <p class="font-bold text-slate-900 text-xs uppercase tracking-widest mb-2">Legal Context</p>
                    <p id="explanation-text" class="text-slate-600 text-sm leading-relaxed"></p>
                </div>
                <div class="mt-10 flex justify-end">
                    <button id="next-btn" class="hidden bg-slate-900 hover:bg-slate-800 text-white font-bold py-3 px-8 rounded-xl transition duration-200">Next Question</button>
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden bg-white rounded-3xl shadow-2xl p-8 text-center border border-slate-100 animate-fade-in relative">
            <h2 class="serif text-4xl font-bold text-slate-900 mb-1">Results</h2>
            <p id="result-subtitle" class="text-slate-400 mb-6 text-sm font-medium tracking-tight">Summary for Select Date</p>

            <div class="bg-slate-900 rounded-[2.5rem] p-10 mb-8 text-white shadow-2xl relative overflow-hidden">
                <div class="absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full -mr-10 -mt-10 blur-xl"></div>
                <div class="text-7xl font-black mb-1" id="final-score-text">0</div>
                <div class="text-xs font-bold text-slate-400 uppercase tracking-[0.2em]">Points Earned</div>
            </div>

            <!-- Tally Scoreboard -->
            <div id="tally-embed-container" class="mb-8 overflow-hidden rounded-3xl border border-slate-100 bg-slate-50/50">
                <div class="flex items-center justify-center h-[280px] text-slate-400 italic text-xs">Loading scoreboard...</div>
            </div>

            <!-- Reward Section -->
            <div class="max-w-sm mx-auto mb-10 p-6 bg-blue-50/80 rounded-[2rem] border-2 border-dashed border-blue-200">
                <p class="text-[14px] font-semibold text-slate-700 leading-relaxed mb-6">
                    Reach <span class="text-slate-900 font-bold">100 points</span> to unlock <span class="bg-blue-600 text-white px-2 py-0.5 rounded font-bold">FREE access</span> to our Supreme Court Daily Digests.
                </p>
                <div class="flex justify-center gap-6">
                    <a href="https://x.com/citecase" target="_blank" class="flex flex-col items-center gap-1 text-slate-500 hover:text-blue-600 transition-colors">
                        <svg class="h-5 w-5 fill-current" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                        <span class="text-[8px] font-black uppercase tracking-widest">X.com</span>
                    </a>
                    <a href="mailto:citecase@gmail.com" class="flex flex-col items-center gap-1 text-slate-500 hover:text-red-500 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                        <span class="text-[8px] font-black uppercase tracking-widest">Gmail</span>
                    </a>
                </div>
            </div>

            <div class="flex flex-col gap-4">
                <a href="https://citecase.in/register" target="_blank" class="w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-4 rounded-2xl shadow-xl transition-all flex items-center justify-center gap-2 group">
                    <span>Subscribe CiteCase.in</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                    </svg>
                </a>
                <button onclick="showStartScreen()" class="text-slate-400 font-bold hover:text-slate-900 transition underline underline-offset-4 text-xs">Return to Main Menu</button>
            </div>
        </div>
    </main>

    <script>
        const CORRECT_PASSWORD = "citecase";
        let activeQuizData = [];
        let currentQuizDateLabel = "";
        let currentQuestion = 0, score = 0, correctCount = 0, answered = false;
        let timerSeconds = 30, timerInterval = null;
        let lifelinesUsed = { time: false, fiftyFifty: false, skip: false };

        const quizDataJan7 = [
            {
                question: "In Jan De Nul Dredging India v. Tuticorin Port Trust, what is the scope of Section 37 Appellate power?",
                options: ["Ordinary court of appeal reviewing merits.", "Limited to finding if the Section 34 court acted within its limits.", "Reappraisal of evidence to record contrary findings.", "Authority to touch any award regardless of legality."],
                correct: 1,
                explanation: "Para 37: The Appellate Court under Section 37 has no authority to consider the matter on merits or sit as an ordinary court of appeal."
            },
            {
                question: "According to the SC (2026 INSC 33), can Section 5 of the Limitation Act apply to quasi-judicial bodies like the CLB?",
                options: ["Yes, automatically under Section 433.", "Only if specifically empowered by the statute.", "Always, under Regulation 44's inherent power.", "Only for minor delays under 30 days."],
                correct: 1,
                explanation: "Para 160: Section 5 applies only to 'courts' and not to quasi-judicial bodies unless they are specifically empowered."
            },
            {
                question: "In Regenta Hotels v. Hotel Grand Centre Point, when is an arbitral proceeding deemed 'commenced'?",
                options: ["Date of filing a Section 9 petition.", "Date of filing a Section 11 petition.", "Solely upon receipt of request to refer dispute to arbitration (S. 21).", "Date of the first hearing before the Tribunal."],
                correct: 2,
                explanation: "Para 23: Commencement is defined exclusively under Section 21 by receipt of a request to refer the dispute."
            },
            {
                question: "Under Arbitration Rule 9(4), what happens if arbitral proceedings don't commence within 90 days of an interim order?",
                options: ["The Court issues a warning.", "The interim order stands vacated automatically.", "The arbitration is dismissed.", "The respondent must pay a fine."],
                correct: 1,
                explanation: "Para 27: Rule 9(4) provides that upon failure to commence within 3 months, the interim order stands vacated automatically."
            },
            {
                question: "In Abhay Kumar Patel v. Bihar, why was the 2022 Amendment Rule 8(5) held impermissible?",
                options: ["State lacks power to amend rules under Art. 309.", "It attempted to rewrite rules of a game already begun.", "Contractual experience can never be a criteria.", "The State did not publish it in the official gazette."],
                correct: 1,
                explanation: "Para 39: Retrospective legislation cannot arbitrarily disrupt a selection process where a provisional merit list is out."
            },
            {
                question: "Regarding auctions (2026 INSC 22), is the expectation of a higher bid a valid reason to discard the highest bid?",
                options: ["Yes, to protect public revenue.", "No, as long as the bid is above the reserve price.", "Only if the auction was held without a reserve price.", "Yes, at the absolute discretion of the State."],
                correct: 1,
                explanation: "Para 32: Merely expecting a higher bid in a subsequent auction is not a valid reason to discard a valid highest bid."
            },
            {
                question: "In ULC Act cases (2026 INSC 21), what does 'vesting' of land with the State connote?",
                options: ["Transfer of de facto possession.", "De jure vesting of title or interests.", "Physical eviction of current occupants.", "Automatic demolition of structures."],
                correct: 1,
                explanation: "Para 17: Vesting connotes acquisition of title (de jure); transfer of possession (de facto) requires explicit steps."
            },
            {
                question: "When can the 'Common or Trade Parlance' test be used for tax classification disputes?",
                options: ["As a measure of first resort.", "Only in a state of statutory silence where intent is unexpressed.", "To override explicit definitions in the Act.", "To reclassify goods based on marketing names."],
                correct: 1,
                explanation: "Para 66: It is only in a state of statutory silence, where legislative intent remains unexpressed, that courts resort to this test."
            },
            {
                question: "What is the true principle of 'Promissory Estoppel' according to IFGL Refractories (2026 INSC 18)?",
                options: ["Promises are only binding if there's a written contract.", "An unequivocal promise intended to be acted upon is binding if acting on it makes it inequitable to go back.", "The State can always go back on promises in public interest.", "It only applies if there's a pre-existing relationship."],
                correct: 1,
                explanation: "Para 115: A clear and unequivocal promise intended to create legal relations is binding if acted upon."
            },
            {
                question: "Per Union of India v. G. Kiran (2026), what happens if a reserved candidate uses 'Relaxed Standards' in the UPSC exam?",
                options: ["They can still be considered for unreserved vacancies based on merit.", "They can only be considered for vacancies in their category.", "They are disqualified from the selection.", "They receive a higher rank automatically."],
                correct: 1,
                explanation: "Para 24: If any 'Relaxed Standard' is availed, allocation will be against the vacancy of their specific category."
            }
        ];

        const quizDataJan6 = [
            {
                question: "In Karnataka Lokayuktha vs Chandrashekar, what did the SC rule regarding departmental exoneration and criminal prosecution?",
                options: ["Departmental exoneration automatically results in quashing criminal proceedings.", "They are parallel proceedings and one doesn't ipso facto quash the other.", "Criminal prosecution must conclude before a departmental enquiry begins.", "The Enquiry Officer's finding is binding on the Criminal Court."],
                correct: 1,
                explanation: "Para 1, 12: Disciplinary proceedings and criminal prosecution are parallel proceedings and exoneration in one doesn't ipso facto result in quashing the other."
            },
            {
                question: "According to S. Nagesh v. Shobha S. Aradhya, what must happen before a Court takes cognizance of a belated NI Act complaint?",
                options: ["The accused must be summoned for a summary hearing.", "A fine must be deposited by the complainant.", "Satisfaction regarding condonation of delay must precede the act of cognizance.", "Cognizance is taken first, and delay is condoned during the trial."],
                correct: 2,
                explanation: "Para 14: The power to take cognizance of a belated complaint is subject to satisfying the Court of sufficient cause; this condonation must precede cognizance."
            },
            {
                question: "In Divjot Sekhon v. Punjab, the principle 'Rules of the game cannot be altered once the game has begun' was applied to:",
                options: ["Only professional sports contracts.", "Legislative amendment processes.", "Admission processes to educational courses.", "Tax assessment procedures."],
                correct: 2,
                explanation: "Para 18: The principle is equally applicable to admission processes for educational courses like MBBS/BDS as it is to recruitment processes."
            },
            {
                question: "Which of the following is NOT part of the 'Triple Tests' to determine if acts form the 'same transaction'?",
                options: ["Unity of purpose and design.", "Proximity of time and place.", "Continuity of action.", "The identity of the defense counsel."],
                correct: 3,
                explanation: "Para 19-20: The triple tests are unity of purpose and design, proximity of time and place, and continuity of action."
            },
            {
                question: "Per Kadirkhan Pathan v. MSWC, what is the mandatory requirement before instituting a departmental enquiry against a superannuated employee?",
                options: ["The employee's written consent.", "A preliminary report from the CBI.", "Sanction from the Government.", "A general board resolution from the Corporation."],
                correct: 2,
                explanation: "Rule 27(2)(b)(i): The requirement of sanction from the Government prior to institution of departmental enquiry is mandatory for each case."
            },
            {
                question: "Under the Indian Contract Act, as discussed in UV ARC v. Electrosteel Castings, a 'See to it' guarantee:",
                options: ["Obligates the guarantor to enable the debtor to perform.", "Obligates the guarantor to ensure the debtor performs, being in breach if they fail.", "Is invalid under Indian law.", "Does not require a principal debt."],
                correct: 1,
                explanation: "Para 22: It refers to an obligation upon the guarantor to ensure that the principal debtor itself performs its own obligation."
            },
            {
                question: "In Arvind Dham v. Directorate of Enforcement, the SC held that the Right to Speedy Trial under Article 21:",
                options: ["Is eclipsed by the seriousness of PMLA offences.", "Does not apply to economic offences involving money laundering.", "Applies irrespective of the nature of the crime.", "Is only available if the sentence is more than 10 years."],
                correct: 2,
                explanation: "Para 16-18: The right to a speedy trial under Article 21 is not eclipsed by the nature of the offence and applies to all crimes."
            },
            {
                question: "Regarding the enquiry report in disciplinary proceedings, who has the exclusive domain to find guilt?",
                options: ["The Enquiry Officer.", "The High Court on the administrative side.", "The Disciplinary Authority.", "The Investigating Officer."],
                correct: 2,
                explanation: "Para 2: The enquiry report is not conclusive; the finding of guilt or otherwise is in the exclusive domain of the disciplinary authority."
            },
            {
                question: "According to the SC in Arvind Dham, denying bail by categorizing all economic offences into one group is:",
                options: ["A mandatory practice for judicial efficiency.", "Not advisable as activities and circumstances differ from case to case.", "Required under Section 45 of the PMLA.", "Only applicable to offences involving foreign exchange."],
                correct: 1,
                explanation: "Para 15: All economic offences cannot be classified into one group; categorizing them to deny bail is not advisable."
            },
            {
                question: "In S. Nagesh v. Shobha S. Aradhya, the Court referenced which CPC rules to clarify the position on limitation-linked delay?",
                options: ["Order VII Rule 11.", "Order XLI Rules 3A and 5(3).", "Order VIII Rule 1.", "Order IX Rule 13."],
                correct: 1,
                explanation: "Para 14: Order XLI Rules 3A and 5(3) clarify that a proceeding doesn't figure as a regular matter until delay is condoned."
            }
        ];

        const quizDataJan5 = [
            {
                question: "In NAK Engineering Company v. Tarun Keshrichand Shah, how is a 'necessary party' defined?",
                options: ["Presence is desirable but optional.", "A party without whom no order can be made effectively.", "The plaintiff who institutes the suit.", "A third party affected by the decree."],
                correct: 1,
                explanation: "Para 39-40: A necessary party is one without whom no order can be made effectively."
            },
            {
                question: "According to Bhadra International vs Airports Authority, how can arbitrator ineligibility under Section 12(5) be waived?",
                options: ["By oral agreement in the hearing.", "By filing a claim without initial objection.", "Only by an express agreement in writing.", "By appearing at the first session."],
                correct: 2,
                explanation: "Para 89-90: The Court held ineligibility can ONLY be waived via an express agreement in writing."
            },
            {
                question: "In judicial disciplinary proceedings, what is the determinative factor for misconduct?",
                options: ["Correctness of the verdict.", "Whether the Judge's order was wrong.", "The conduct of the Officer in question.", "The volume of appeals filed."],
                correct: 2,
                explanation: "Para 34: It is not the correctness of the verdict but the conduct of the Officer which determines misconduct."
            },
            {
                question: "Under UAPA Section 43D(5), what does 'prima facie true' mandate?",
                options: ["Full evaluation of evidence.", "A threshold inquiry that is neither perfunctory nor adjudicatory.", "Conducting a mini-trial.", "Proof beyond reasonable doubt."],
                correct: 1,
                explanation: "Para 81-82: The Court must examine if the prosecution material, taken at face value, discloses essential statutory ingredients."
            },
            {
                question: "Which maxim signifies 'standing by what is decided' for legal stability?",
                options: ["Dominus Litis", "Ex proprio vigore", "Stare decisis et non quieta movere", "Interest reipublicae ut sit findis litium"],
                correct: 2,
                explanation: "Para 78: 'Stare decisis...' signifies the need for stability and predictability in law."
            },
            {
                question: "In Bhagheeratha Engineering Ltd vs State of Kerala, Section 21 notice is primarily for:",
                options: ["Mandatory start of every arbitration.", "Waiving procedural errors.", "Determining commencement for reckoning limitation.", "Appointing the lead counsel."],
                correct: 2,
                explanation: "Para 16: Section 21 is concerned with determining commencement for the purpose of reckoning limitation."
            },
            {
                question: "Regarding delegated legislation and tax levy, which statement is CORRECT?",
                options: ["Power to exempt is a power to tax.", "Executive can enlarge taxation via machinery provisions.", "The power to exempt is NOT a power to tax.", "A delegate can do indirectly what it cannot do directly."],
                correct: 2,
                explanation: "Para 55: The Court held that the power to exempt is not a power to tax."
            },
            {
                question: "In Subhash Aggarwal vs Mahender Pal Chhabra, 'readiness and willingness' is construed:",
                options: ["Via a strict straitjacket formula.", "With respect to facts and circumstances of each case.", "Only based on bank statements.", "Only when the defendant is at fault."],
                correct: 1,
                explanation: "Para 6: There is no straitjacket formula; it depends on specific facts of each case."
            },
            {
                question: "How does trial delay impact UAPA bail applications under the 2026 ruling?",
                options: ["It is a trump card for automatic bail.", "It is ignored for national security.", "It serves as a trigger for heightened judicial scrutiny under Article 21.", "It only applies to juvenile cases."],
                correct: 2,
                explanation: "Para 56-57: Delay triggers heightened scrutiny to balance the offense's gravity with personal liberty."
            },
            {
                question: "The principle of 'Dominus Litis' means:",
                options: ["The Judge controls the trial speed.", "Plaintiffs choose their adversaries and do so at their own risk.", "The State must provide a lawyer.", "All parties have equal costs."],
                correct: 1,
                explanation: "Page 2: Plaintiffs who institute the suit are dominus litis and choose their adversaries."
            }
        ];

        function showStartScreen() {
            document.querySelectorAll('main > div').forEach(div => div.classList.add('hidden'));
            document.getElementById('start-screen').classList.remove('hidden');
        }

        function showPasswordScreen() {
            document.querySelectorAll('main > div').forEach(div => div.classList.add('hidden'));
            document.getElementById('password-screen').classList.remove('hidden');
            document.getElementById('quiz-password-input').focus();
        }

        function togglePasswordVisibility() {
            const input = document.getElementById('quiz-password-input');
            input.type = input.type === "password" ? "text" : "password";
        }

        function handlePasswordSubmit() {
            const input = document.getElementById('quiz-password-input');
            const error = document.getElementById('password-error');
            if (input.value === CORRECT_PASSWORD) {
                document.getElementById('password-screen').classList.add('hidden');
                document.getElementById('selection-screen').classList.remove('hidden');
            } else {
                error.classList.remove('hidden');
            }
        }

        function startTimer() {
            clearInterval(timerInterval);
            timerSeconds = 30;
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timerSeconds--;
                updateTimerDisplay();
                if (timerSeconds <= 0) {
                    clearInterval(timerInterval);
                    handleTimeout();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const display = document.getElementById('timer-display');
            display.innerText = `${timerSeconds}s`;
            if (timerSeconds <= 5) display.classList.add('timer-warning');
            else display.classList.remove('timer-warning');
        }

        function handleTimeout() {
            if (answered) return;
            score -= 1; 
            showExplanation();
        }

        function showExplanation() {
            answered = true;
            clearInterval(timerInterval);
            const q = activeQuizData[currentQuestion];
            document.getElementById('explanation-text').innerText = q.explanation;
            document.getElementById('explanation-box').classList.remove('hidden');
            document.getElementById('next-btn').classList.remove('hidden');
            document.getElementById('current-score').innerText = `Score: ${score}`;
            const buttons = document.getElementById('options-container').getElementsByTagName('button');
            for (let b of buttons) b.disabled = true;
            if (buttons[q.correct]) buttons[q.correct].classList.add('correct');
        }

        function useTimeLifeline() {
            if (lifelinesUsed.time || answered) return;
            lifelinesUsed.time = true;
            timerSeconds += 30;
            updateTimerDisplay();
            document.getElementById('lifeline-time').disabled = true;
        }

        function use5050Lifeline() {
            if (lifelinesUsed.fiftyFifty || answered) return;
            lifelinesUsed.fiftyFifty = true;
            const q = activeQuizData[currentQuestion];
            const buttons = Array.from(document.getElementById('options-container').getElementsByTagName('button'));
            let incorrectIndices = q.options.map((_, i) => i).filter(i => i !== q.correct);
            
            // Randomly pick one incorrect index to keep
            const keepIncorrectIdx = incorrectIndices[Math.floor(Math.random() * incorrectIndices.length)];
            const keepIndices = [q.correct, keepIncorrectIdx];
            
            buttons.forEach((btn, idx) => {
                if (!keepIndices.includes(idx)) {
                    btn.style.opacity = '0.2';
                    btn.disabled = true;
                }
            });
            document.getElementById('lifeline-5050').disabled = true;
        }

        function useSkipLifeline() {
            if (lifelinesUsed.skip || answered) return;
            lifelinesUsed.skip = true;
            showExplanation();
            document.getElementById('lifeline-skip').disabled = true;
        }

        function startQuiz(type) {
            if (type === 'jan7') {
                activeQuizData = quizDataJan7;
                currentQuizDateLabel = '7 January 2026';
            } else if (type === 'jan6') {
                activeQuizData = quizDataJan6;
                currentQuizDateLabel = '6 January 2026';
            } else {
                activeQuizData = quizDataJan5;
                currentQuizDateLabel = '5 January 2026';
            }
            
            currentQuestion = 0; score = 0; correctCount = 0;
            lifelinesUsed = { time: false, fiftyFifty: false, skip: false };
            
            // Reset lifeline buttons visuals
            document.querySelectorAll('.lifeline-btn').forEach(btn => btn.disabled = false);
            
            document.getElementById('selection-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            answered = false;
            document.getElementById('next-btn').classList.add('hidden');
            document.getElementById('explanation-box').classList.add('hidden');
            
            const q = activeQuizData[currentQuestion];
            document.getElementById('question-text').innerText = q.question;
            document.getElementById('question-number').innerText = `Question ${currentQuestion + 1}/${activeQuizData.length}`;
            document.getElementById('current-score').innerText = `Score: ${score}`;
            document.getElementById('progress').style.width = `${((currentQuestion) / activeQuizData.length) * 100}%`;
            
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            q.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = "option-btn w-full text-left p-5 rounded-2xl border-2 border-slate-100 font-semibold transition bg-white hover:shadow-md disabled:cursor-default";
                btn.innerText = opt;
                btn.onclick = () => selectOption(idx, btn);
                container.appendChild(btn);
            });
            startTimer();
        }

        function selectOption(idx, btn) {
            if (answered) return;
            const q = activeQuizData[currentQuestion];
            if (idx === q.correct) {
                btn.classList.add('correct');
                score += 2;
                correctCount++;
            } else {
                btn.classList.add('incorrect');
                score -= 1;
            }
            showExplanation();
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < activeQuizData.length) showQuestion();
            else showResults();
        }

        function showResults() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            document.getElementById('final-score-text').innerText = score;
            document.getElementById('result-subtitle').innerText = `Summary for ${currentQuizDateLabel}`;
            
            const embedContainer = document.getElementById('tally-embed-container');
            const accuracy = Math.round((correctCount / activeQuizData.length) * 100);
            const tallyUrl = `https://tally.so/embed/5Bjpvv?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1&score=${score}&accuracy=${accuracy}`;
            embedContainer.innerHTML = `<iframe src="${tallyUrl}" loading="lazy" width="100%" height="280" frameborder="0" style="width: 100%; border: none; overflow: hidden;" title="Score Card"></iframe>`;
        }

        function toggleRules() {
            const container = document.getElementById('rules-container');
            container.classList.toggle('hidden');
        }

        window.onload = () => {
            document.getElementById('main-start-btn').onclick = showPasswordScreen;
            document.getElementById('next-btn').onclick = nextQuestion;
            document.getElementById('lifeline-time').onclick = useTimeLifeline;
            document.getElementById('lifeline-5050').onclick = use5050Lifeline;
            document.getElementById('lifeline-skip').onclick = useSkipLifeline;
            document.getElementById('rules-toggle-btn').onclick = toggleRules;
            
            // Allow "Enter" to submit password
            document.getElementById('quiz-password-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handlePasswordSubmit();
            });
        };
    </script>
</body>
</html>
